(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(21),u=a.n(l),o=a(86),s=a(127),E=a(12),i=a(10),m=a(6);!function(e){e.HOME="/",e.SIGNIN="/signin",e.SIGNUP="/signup",e.CART="/cart",e.PRODUCT="/product",e.PROFILE="/profile",e.SHIPPING="/shipping",e.PAYMENT="/payment",e.CHECKOUT="/checkout",e.PLACE_ORDER="/place_order",e.ORDER_SUCCESS="/order_success",e.ORDER_DETAILS="/order_details"}(n||(n={}));var p,d=a(9),O=a(135),f=a(128),S=a(134),R=a(22),b=a(5),_=a(8),g=a.n(_),v=a(11),I=a(84),h=a(41),y=a.n(h);!function(e){e.CART_ADD_PRODUCT="CART_ADD_PRODUCT",e.CART_REMOVE_PRODUCT="CART_REMOVE_PRODUCT",e.CART_RESET="CART_RESET",e.CART_ADD_PAYMENT_METHOD="CART_ADD_PAYMENT_METHOD"}(p||(p={}));var D=function(e){return{type:p.CART_REMOVE_PRODUCT,payload:e}},T=function(e){return{type:p.CART_ADD_PAYMENT_METHOD,payload:e}},C=function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n,r){var c,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.get("http://localhost:5000/api/products/".concat(e));case 3:c=a.sent,(l=c.data)&&(n((u={id:l._id,name:l.name,image:l.image,price:l.price,countInStock:l.countInStock,qty:t},{type:p.CART_ADD_PRODUCT,payload:u})),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0.message);case 11:case"end":return a.stop()}var u}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},j=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:p.CART_RESET}),localStorage.removeItem("cartItems"),localStorage.removeItem("paymentMethod")}catch(a){console.error(a.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U={cartItems:[],paymentMethod:null};var A=y.a.create({baseURL:"http://localhost:5000/api/"});A.interceptors.request.use((function(e){return e.headers=Object(b.a)(Object(b.a)({},e.headers),function(){var e=localStorage.getItem("user"),t={};return e&&(t=JSON.parse(e)),t&&t.token?{authorization:"Bearer ".concat(t.token)}:{}}()),e}),(function(e){return Promise.reject(e)}));var L,P={createOrder:function(e){return A.post("/orders",e)},getOrders:function(){return A.get("/orders")},getOrderDetails:function(e){return A.get("/orders/".concat(e))},orderPay:function(e,t){return A.put("/orders/".concat(e,"/pay"),{paymentResult:t})}};!function(e){e.ORDER_LIST_REQUEST="ORDER_LIST_REQUEST",e.ORDER_LIST_SUCCESS="ORDER_LIST_SUCCESS",e.ORDER_LIST_FAILED="ORDER_LIST_FAILED",e.ORDER_CREATE_REQUEST="ORDER_CREATE_REQUEST",e.ORDER_CREATE_SUCCESS="ORDER_CREATE_SUCCESS",e.ORDER_CREATE_FAILED="ORDER_CREATE_FAILED",e.ORDER_DETAILS_REQUEST="ORDER_DETAILS_REQUEST",e.ORDER_DETAILS_SUCCESS="ORDER_DETAILS_SUCCESS",e.ORDER_DETAILS_FAILED="ORDER_DETAILS_FAILED",e.ORDER_PAY_REQUEST="ORDER_PAY_REQUEST",e.ORDER_PAY_SUCCESS="ORDER_PAY_SUCCESS",e.ORDER_PAY_FAILED="ORDER_PAY_FAILED",e.ORDER_PAY_RESET="ORDER_PAY_RESET",e.ORDER_CLEAR_LAST="ORDER_CLEAR_LAST",e.ORDER_RESET="ORDER_RESET"}(L||(L={}));var N,k=function(e){return{type:L.ORDER_CREATE_SUCCESS,payload:e}},w=function(e){return{type:L.ORDER_DETAILS_SUCCESS,payload:e}},x=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:L.ORDER_DETAILS_REQUEST}),t.next=4,P.getOrderDetails(e);case 4:n=t.sent,(r=n.data)&&a((l=r,{type:L.ORDER_DETAILS_SUCCESS,payload:l})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a((c=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,{type:L.ORDER_DETAILS_FAILED,payload:c})),console.error(t.t0.message);case 13:case"end":return t.stop()}var c,l}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},F={orders:[],lastOrder:null,orderPay:{loading:!1,success:!1,error:null},loading:!1,error:null},G={signIn:function(e){return A.post("/users/signin",e)},signUp:function(e){return A.post("/users",e)},getUser:function(){return A.get("/users/user")},updateUser:function(e){return A.put("/users/user",{updateUser:e})}};!function(e){e.SIGNIN_REQUEST="SIGNIN_REQUEST",e.SIGNIN_SUCCESS="SIGNIN_SUCCESS",e.SIGNIN_FAILED="SIGNIN_FAILED",e.SIGNUP_REQUEST="SIGNUP_REQUEST",e.SIGNUP_FAILED="SIGNUP_FAILED",e.USER_DETAILS_REQUEST="USER_DETAILS_REQUEST",e.USER_DETAILS_SUCCESS="USER_DETAILS_SUCCESS",e.USER_DETAILS_FAILED="USER_DETAILS_FAILED",e.USER_UPDATE_REQUEST="USER_UPDATE_REQUEST",e.USER_UPDATE_SUCCESS="USER_UPDATE_SUCCESS",e.USER_UPDATE_FAILED="USER_UPDATE_FAILED",e.USER_SIGNOUT="USER_SIGNOUT",e.CLEAR_ERROR="CLEAR_ERROR"}(N||(N={}));var M=function(e){return{type:N.SIGNIN_SUCCESS,payload:e}},Q=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:N.SIGNIN_REQUEST}),t.next=4,G.signIn(e);case 4:n=t.sent,(r=n.data)&&a(M(r)),localStorage.setItem("user",JSON.stringify(r)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),a((c=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,{type:N.SIGNIN_FAILED,payload:c})),console.error(t.t0.message);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a,n){var r,c,l,u,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:N.USER_UPDATE_REQUEST}),r=n(),c=r.user.currentUser,t.next=6,G.updateUser(Object.assign({},c,e));case 6:l=t.sent,(u=l.data)&&(o=Object.assign({},c,u),a((E=o,{type:N.USER_UPDATE_SUCCESS,payload:E})),localStorage.setItem("user",JSON.stringify(o))),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),a((s=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,{type:N.USER_UPDATE_FAILED,payload:s})),console.error(t.t0.message);case 15:case"end":return t.stop()}var s,E}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},H=function(){return!!localStorage.getItem("user")},q={currentUser:{id:"",email:"",name:"",isAdmin:!1,token:"",shippingAddress:{city:"",address:"",country:"",postalCode:""}},loading:!1,error:"",isSignedIn:H()};function $(e){return 0===Object.keys(e).length&&e.constructor===Object}function J(e){if($(e))return!1;var t=Object.keys(e).length;return Object.values(e).filter((function(e){return""!==e&&void 0!==e&&null!==e})).length===t}var B=function(){var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})),l=a.isSignedIn,u=a.currentUser,o=Object(r.useState)(null),i=Object(d.a)(o,2);i[0],i[1];return c.a.createElement("div",null,c.a.createElement(O.a,{bg:"dark",expand:"lg",variant:"dark"},c.a.createElement(s.a,null,c.a.createElement(R.LinkContainer,{to:n.HOME},c.a.createElement(O.a.Brand,null,"Ecommerce")),c.a.createElement(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(O.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(f.a,{className:"ml-auto"},c.a.createElement(R.LinkContainer,{to:n.CART},c.a.createElement(f.a.Link,null,c.a.createElement("i",{className:"fas fa-shopping-cart"})," ","Cart")),l&&!$(u)?c.a.createElement(S.a,{title:"Dropdown",id:"basic-nav-dropdown"},c.a.createElement(R.LinkContainer,{to:n.PROFILE},c.a.createElement(S.a.Item,null,c.a.createElement("i",{className:"fas fa-user"})," ",u.name)),c.a.createElement(S.a.Item,{onClick:function(a){a.preventDefault(),e(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:N.USER_SIGNOUT}),localStorage.removeItem("user"),t(j()),t(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:L.ORDER_RESET})}catch(a){console.error(a.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.push(n.HOME)}},"Sign Out")):c.a.createElement(R.LinkContainer,{to:n.SIGNIN},c.a.createElement(f.a.Link,null,c.a.createElement("i",{className:"fas fa-user"})," Sign In")))))))},V=a(76),W=a(77),z=a(87),K=a(83),X=a(129),Z=a(78);var ee,te=(ee=function(){return c.a.createElement("div",null,c.a.createElement(s.a,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,{className:"text-center"},"Copyright"))))},function(e){Object(z.a)(a,e);var t=Object(K.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return c.a.createElement(ee,this.props)}}]),a}(c.a.Component)),ae=a(137),ne=function(e){var t=e.value,a=e.text,n=e.color,r=e.reviewsStyle;return c.a.createElement("div",{className:"rating"},c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",null,c.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),c.a.createElement("span",{style:r},a))};ne.defaultProps={color:"#ffcf33",reviewsStyle:{marginLeft:"5px"}};var re=function(e){var t=e.product,a=t._id,n=t.name,r=t.category,l=t.price,u=t.image,o=t.rating,s=t.numReviews;return c.a.createElement(i.Link,{to:"/product/".concat(a)},c.a.createElement(ae.a,{className:"my-3 p-3 rounded",style:{width:"18rem"}},c.a.createElement(ae.a.Img,{variant:"top",src:u}),c.a.createElement(ae.a.Body,null,c.a.createElement(ae.a.Title,null,n),c.a.createElement(ae.a.Text,null,r),c.a.createElement(ae.a.Text,null,l),c.a.createElement(ne,{value:o,text:"".concat(s," reviews")}))))},ce=a(130),le=function(){return c.a.createElement(ce.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",display:"block",margin:"auto"}},c.a.createElement("span",{className:"sr-only"},"Loading..."))},ue=a(136),oe=function(e){var t=e.variant,a=void 0===t?"info":t,n=e.children;return c.a.createElement(ue.a,{variant:a},n)};oe.defaultProps={variant:"info"};var se,Ee={getProducts:function(){return A.get("/products")},getProductById:function(e){return A.get("/products/".concat(e))}};!function(e){e.PRODUCT_LIST_REQUEST="PRODUCT_LIST_REQUEST",e.PRODUCT_LIST_SUCCESS="PRODUCT_LIST_SUCCESS",e.PRODUCT_LIST_FAILED="PRODUCT_LIST_FAILED"}(se||(se={}));var ie,me={products:[],loading:!1,error:null},pe=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.products})),a=t.loading,n=t.error,l=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:se.PRODUCT_LIST_REQUEST}),e.next=4,Ee.getProducts();case 4:a=e.sent,(n=a.data)&&t((c=n,{type:se.PRODUCT_LIST_SUCCESS,payload:c})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t((r=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,{type:se.PRODUCT_LIST_FAILED,payload:r})),console.error(e.t0.message);case 13:case"end":return e.stop()}var r,c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),c.a.createElement(c.a.Fragment,null,c.a.createElement(X.a,null,a?c.a.createElement(le,null):n?c.a.createElement(oe,{variant:"danger"},c.a.createElement("span",null,n)):l.map((function(e){return c.a.createElement(Z.a,{key:e._id,sm:4},c.a.createElement(re,{product:e}))}))))},de=a(131),Oe=a(138),fe=a(133),Se=a(75);!function(e){e.PRODUCT_DETAIL_REQUEST="PRODUCT_DETAIL_REQUEST",e.PRODUCT_DETAIL_SUCCESS="PRODUCT_DETAIL_SUCCESS",e.PRODUCT_DETAIL_FAILED="PRODUCT_DETAIL_FAILED"}(ie||(ie={}));var Re={product:{},loading:!1,error:""};function be(e){for(var t=[],a=1;a<=e;a++)t.push(a);return[].concat(t)}var _e=function(){var e=Object(E.k)(),t=Object(m.b)(),a=Object(r.useState)([]),n=Object(d.a)(a,2),l=n[0],u=n[1],o=Object(r.useState)(1),s=Object(d.a)(o,2),i=s[0],p=s[1],O=Object(E.m)().id,f=Object(m.c)((function(e){return e.productDetail})),S=f.product,R=f.loading,b=f.error;Object(r.useEffect)((function(){t(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ie.PRODUCT_DETAIL_REQUEST}),t.next=4,Ee.getProductById(e);case 4:n=t.sent,(r=n.data)&&a((l=r,{type:ie.PRODUCT_DETAIL_SUCCESS,payload:l})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a((c=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,{type:ie.PRODUCT_DETAIL_FAILED,payload:c})),console.error(t.t0.message);case 13:case"end":return t.stop()}var c,l}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(O))}),[t]);var _=S.price,I=S.name,h=S.rating,y=S.numReviews,D=S.description,T=S.image,C=S.countInStock;return Object(r.useEffect)((function(){C&&u(be(C))}),[C]),S?c.a.createElement(c.a.Fragment,null,c.a.createElement(X.a,null,R?c.a.createElement(le,null):b?c.a.createElement(oe,{variant:"danger"},c.a.createElement("span",null,b)):c.a.createElement(c.a.Fragment,null,c.a.createElement(Z.a,{sm:6},c.a.createElement(de.a,{src:T,fluid:!0})),c.a.createElement(Z.a,{sm:6},c.a.createElement(Oe.a,{variant:"flush"},c.a.createElement(Oe.a.Item,null,c.a.createElement("h3",null,I)),c.a.createElement(Oe.a.Item,null,c.a.createElement(ne,{value:h,text:"".concat(y," reviews"),reviewsStyle:{marginLeft:"10px"}})),c.a.createElement(Oe.a.Item,null,c.a.createElement("strong",null,"Price: $",_)),c.a.createElement(Oe.a.Item,null,D),C>0?c.a.createElement(Oe.a.Item,null,c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Control,{as:"select",onChange:function(e){return p(parseInt(e.target.value))}},l.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))),c.a.createElement(Se.a,{variant:"primary",onClick:function(t){t.preventDefault(),e.push("/cart/".concat(O,"?qty=").concat(i))}},"Primary")," ")):c.a.createElement(oe,{variant:"danger"},c.a.createElement("span",null,"Out of stock"))))))):c.a.createElement(E.c,{to:"/"})};var ge=function(){var e=Object(m.b)(),t=Object(E.k)(),a=Object(E.m)().id,l=Object(E.l)().search,u=parseInt(l.split("=")[1]),o=Object(m.c)((function(e){return e.user})).isSignedIn,s=Object(m.c)((function(e){return e.cart})).cartItems;Object(r.useEffect)((function(){a&&u&&e(C(a,u))}),[e,a,u]);return c.a.createElement("div",null,0===s.length?c.a.createElement(oe,null,c.a.createElement("span",null,"Cart is empty")):c.a.createElement(X.a,null,c.a.createElement(Z.a,{sm:8},c.a.createElement(Oe.a,{variant:"flush"},s.map((function(t){return c.a.createElement(Oe.a.Item,{key:t.id},c.a.createElement(X.a,null,c.a.createElement(Z.a,{sm:3},c.a.createElement(de.a,{fluid:!0,src:t.image,alt:t.name})),c.a.createElement(Z.a,{sm:3},c.a.createElement(i.Link,{to:"".concat(n.PRODUCT,"/").concat(t.id)},t.name)),c.a.createElement(Z.a,{sm:2},t.price),c.a.createElement(Z.a,{sm:2},c.a.createElement(fe.a.Control,{as:"select",value:t.qty,onChange:function(a){return e(C(t.id,parseInt(a.target.value)))}},be(t.countInStock).map((function(e){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement(Z.a,{sm:2},c.a.createElement(Se.a,{variant:"light",type:"button",onClick:function(){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a(D(e)),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))}catch(r){console.error(r.message)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t.id))}},c.a.createElement("i",{className:"fas fa-trash"})))))})))),c.a.createElement(Z.a,{sm:4},c.a.createElement(ae.a,null,c.a.createElement(ae.a.Body,null,c.a.createElement(ae.a.Title,null,"Subtotal ",s.reduce((function(e,t){return e+t.qty}),0)),c.a.createElement(ae.a.Subtitle,{className:"mb-2 text-muted"},"Total price"," $",function(e){return e.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)}(s)),c.a.createElement(Se.a,{onClick:function(){var e=o?n.SHIPPING:"".concat(n.SIGNIN,"?redirect=shipping");t.push(e)},variant:"secondary",size:"lg",block:!0},"Proceed to checkout"))))))},ve=function(e){var t=e.children,a=Object(m.b)(),n=Object(m.c)((function(e){return e.user})).error;return Object(r.useEffect)((function(){n&&setTimeout((function(){a({type:N.CLEAR_ERROR})}),5e3)}),[n]),c.a.createElement(s.a,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,{xs:12,md:6},t)))},Ie=function(){var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})),n=(a.currentUser,a.isSignedIn),l=a.loading,u=a.error,o=Object(r.useState)(""),s=Object(d.a)(o,2),p=s[0],O=s[1],f=Object(r.useState)(""),S=Object(d.a)(f,2),R=S[0],b=S[1],_=Object(E.l)().search,g=_?_.split("=")[1]:"/";return Object(r.useEffect)((function(){n&&t.push(g)}),[n]),c.a.createElement(ve,null,c.a.createElement("h1",null,"Sign In"),u&&c.a.createElement(oe,{variant:"danger"},c.a.createElement("span",null,u)),l&&c.a.createElement(le,null),c.a.createElement(fe.a,{onSubmit:function(t){t.preventDefault(),e(Q({email:p,password:R}))}},c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Email address"),c.a.createElement(fe.a.Control,{type:"email",value:p,placeholder:"Enter email",onChange:function(e){return O(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Password"),c.a.createElement(fe.a.Control,{type:"password",value:R,placeholder:"Enter password",onChange:function(e){return b(e.target.value)}})),c.a.createElement(Se.a,{type:"submit"},"Sign in")),c.a.createElement(X.a,{className:"py-3"},c.a.createElement(Z.a,null,"New customer?"," ",c.a.createElement(i.Link,{to:g?"/signup?redirect=".concat(g):"/signup"},"Sign up"))))},he=function(){var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})),n=a.isSignedIn,l=a.loading,u=a.error,o=Object(r.useState)(""),s=Object(d.a)(o,2),p=s[0],O=s[1],f=Object(r.useState)(""),S=Object(d.a)(f,2),R=S[0],b=S[1],_=Object(r.useState)(""),I=Object(d.a)(_,2),h=I[0],y=I[1],D=Object(r.useState)(""),T=Object(d.a)(D,2),C=(T[0],T[1],Object(r.useState)(null)),j=Object(d.a)(C,2),U=(j[0],j[1],Object(E.l)().search),A=U?U.split("=")[1]:"/";return Object(r.useEffect)((function(){n&&t.push(A)}),[n]),c.a.createElement(ve,null,c.a.createElement("h1",null,"Sign Up"),u&&c.a.createElement(oe,{variant:"danger"},c.a.createElement("span",null,u)),l&&c.a.createElement(le,null),c.a.createElement(fe.a,{onSubmit:function(t){var a;t.preventDefault(),e((a={name:p,email:R,password:h},function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.email,r=a.password,t({type:N.SIGNUP_REQUEST}),e.next=5,G.signUp(a);case 5:t(Q({email:n,password:r})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t((c=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,{type:N.SIGNUP_FAILED,payload:c})),console.error(e.t0.message);case 12:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}},c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Name"),c.a.createElement(fe.a.Control,{type:"text",value:p,placeholder:"Enter name",onChange:function(e){return O(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Email address"),c.a.createElement(fe.a.Control,{type:"email",value:R,placeholder:"Enter email",onChange:function(e){return b(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Password"),c.a.createElement(fe.a.Control,{type:"password",value:h,placeholder:"Enter password",onChange:function(e){return y(e.target.value)}})),c.a.createElement(Se.a,{type:"submit"},"Sign Up")),c.a.createElement(X.a,{className:"py-3"},c.a.createElement(Z.a,null,"Have a account?"," ",c.a.createElement(i.Link,{to:A?"/signin?redirect=".concat(A):"/signin"},"Sign in"))))},ye=a(132),De=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.user})),a=t.currentUser,l=(t.isSignedIn,Object(m.c)((function(e){return e.order}))),u=l.orders,o=l.loading,s=l.error,E=Object(r.useState)(a.name),i=Object(d.a)(E,2),p=i[0],O=i[1],f=Object(r.useState)(a.email),S=Object(d.a)(f,2),b=S[0],_=S[1],I=Object(r.useState)(""),h=Object(d.a)(I,2),y=h[0],D=h[1];Object(r.useEffect)((function(){e(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L.ORDER_LIST_REQUEST}),e.next=4,P.getOrders();case 4:a=e.sent,(n=a.data)&&t((c=n,{type:L.ORDER_LIST_SUCCESS,payload:c})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t((r=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,{type:L.ORDER_LIST_FAILED,payload:r})),console.error(e.t0.message);case 13:case"end":return e.stop()}var r,c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"User Info"),c.a.createElement(X.a,null,c.a.createElement(Z.a,{xs:12,sm:12,md:6},c.a.createElement(fe.a,{onSubmit:function(t){t.preventDefault(),e(Y({email:b,name:p,password:y})),D("")}},c.a.createElement(fe.a.Group,{controlId:"name"},c.a.createElement(fe.a.Label,null,"Name"),c.a.createElement(fe.a.Control,{value:p,onChange:function(e){return O(e.target.value)},type:"name"})),c.a.createElement(fe.a.Group,{controlId:"email"},c.a.createElement(fe.a.Label,null,"Email address"),c.a.createElement(fe.a.Control,{value:b,onChange:function(e){return _(e.target.value)},type:"email"})),c.a.createElement(fe.a.Group,{controlId:"password"},c.a.createElement(fe.a.Label,null,"Password"),c.a.createElement(fe.a.Control,{onChange:function(e){return D(e.target.value)},value:y,type:"password"})),c.a.createElement(Se.a,{variant:"primary",type:"submit"},"Update")))),c.a.createElement("h2",null,"My Orders"),o?c.a.createElement(le,null):s?c.a.createElement(oe,{variant:"danger"},s):0===u.length?c.a.createElement(oe,{variant:"danger"},"You do not have orders"):c.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"TOTAL"),c.a.createElement("th",null,"PAID"),c.a.createElement("th",null,"DELIVERED"),c.a.createElement("th",null,"ID"))),c.a.createElement("tbody",null,u.map((function(e,t){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.createdAt.substring(0,10)),c.a.createElement("td",null,e.totalPrice),c.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):c.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),c.a.createElement("td",null,c.a.createElement(R.LinkContainer,{to:"".concat(n.ORDER_DETAILS,"/").concat(e._id)},c.a.createElement(Se.a,null,"Details"))))})))))},Te=function(e){var t=e.step1,a=void 0!==t&&t,r=e.step2,l=void 0!==r&&r,u=e.step3,o=void 0!==u&&u,s=(Object(m.b)(),Object(m.c)((function(e){return e.user})));s.isSignedIn,s.currentUser;return c.a.createElement(f.a,null,c.a.createElement(f.a.Item,null,a?c.a.createElement(R.LinkContainer,{to:n.SHIPPING},c.a.createElement(f.a.Link,null,"Shipping")):c.a.createElement(f.a.Link,{disabled:!0},"Shipping")),c.a.createElement(f.a.Item,null,l?c.a.createElement(R.LinkContainer,{to:n.PAYMENT},c.a.createElement(f.a.Link,null,"Payment")):c.a.createElement(f.a.Link,{disabled:!0},"Payment")),c.a.createElement(f.a.Item,null,o?c.a.createElement(R.LinkContainer,{to:n.PLACE_ORDER},c.a.createElement(f.a.Link,null,"Place Order")):c.a.createElement(f.a.Link,{disabled:!0},"Place Order")))},Ce=function(){var e=Object(E.k)();0===Object(m.c)((function(e){return e.cart})).cartItems.length&&e.push(n.HOME)},je=function(){Ce();var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})).currentUser.shippingAddress,l=Object(r.useState)(a.address),u=Object(d.a)(l,2),o=u[0],s=u[1],i=Object(r.useState)(a.city),p=Object(d.a)(i,2),O=p[0],f=p[1],S=Object(r.useState)(a.postalCode),R=Object(d.a)(S,2),b=R[0],_=R[1],g=Object(r.useState)(a.country),v=Object(d.a)(g,2),I=v[0],h=v[1];return c.a.createElement(ve,null,c.a.createElement(Te,{step1:!0}),c.a.createElement("h1",null,"Shipping page"),c.a.createElement(fe.a,{onSubmit:function(e){e.preventDefault(),J(a)&&t.push(n.PAYMENT)}},c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Address"),c.a.createElement(fe.a.Control,{type:"text",value:o,placeholder:"Enter address",onChange:function(e){return s(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"City"),c.a.createElement(fe.a.Control,{type:"text",value:O,placeholder:"Enter city",onChange:function(e){return f(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Postal Code"),c.a.createElement(fe.a.Control,{type:"text",value:b,placeholder:"Enter postal dode",onChange:function(e){return _(e.target.value)}})),c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Country"),c.a.createElement(fe.a.Control,{type:"text",value:I,placeholder:"Enter country",onChange:function(e){return h(e.target.value)}})),c.a.createElement(X.a,{className:"justify-content-md-between"},c.a.createElement(Z.a,{md:5,lg:5},c.a.createElement(Se.a,{type:"button",onClick:function(){e(Y({shippingAddress:{address:o,city:O,postalCode:b,country:I}}))}},"Update Shipping address")),c.a.createElement(Z.a,{md:5,lg:5},c.a.createElement(Se.a,{type:"submit"},"Go to payment")))))},Ue=function(){Ce();var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})).currentUser.shippingAddress,l=Object(r.useState)(""),u=Object(d.a)(l,2),o=u[0],s=u[1];Object(r.useEffect)((function(){J(a)||t.push(n.SHIPPING)}),[a]);var i=[{name:"paymentMethod",label:"PayPal",value:"PayPal",id:"paypal-method",isChecked:!0},{name:"paymentMethod",label:"Stripe",value:"Stripe",id:"stripe-method",isChecked:!0}];return Object(r.useEffect)((function(){s(i[0].value)}),[]),c.a.createElement(ve,null,c.a.createElement(Te,{step1:!0,step2:!0}),c.a.createElement("h1",null,"Payment page"),c.a.createElement(fe.a,{onSubmit:function(a){a.preventDefault(),e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a(T(e)),localStorage.setItem("paymentMethod",JSON.stringify(n().cart.paymentMethod))}catch(r){console.error(r.message)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(o)),t.push(n.PLACE_ORDER)}},c.a.createElement(fe.a.Group,null,c.a.createElement(fe.a.Label,null,"Payment Methods"),i.map((function(e){return c.a.createElement(fe.a.Check,{key:e.id,checked:o===e.value,type:"radio",name:e.name,id:e.id,label:e.label,value:e.value,onChange:function(e){return s(e.target.value)}})}))),c.a.createElement(Se.a,{type:"submit"},"Place Order")))},Ae=function(e){var t=Object(r.useState)(),a=Object(d.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(),u=Object(d.a)(l,2),o=u[0],s=u[1],E=Object(r.useState)(),i=Object(d.a)(E,2),m=i[0],p=i[1],O=Object(r.useState)(),f=Object(d.a)(O,2),S=f[0],R=f[1],b=function(e){return t=Number((.15*e).toFixed(2)),Number((100*t/100).toFixed(2));var t};return Object(r.useEffect)((function(){c(function(e){return Number(e.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2))}(e))}),[e]),Object(r.useEffect)((function(){s(function(e){return e>100?0:100}(n)),p(b(n))}),[n]),Object(r.useEffect)((function(){R(function(e,t,a){return Number((e+t+a).toFixed(2))}(n,o,m))}),[n,o,m]),[n,o,m,S]},Le=function(){Ce();var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})).currentUser.shippingAddress,l=a.address,u=a.city,o=a.country,s=a.postalCode,p=Object(m.c)((function(e){return e.cart})),O=p.cartItems,f=p.paymentMethod,S=Object(m.c)((function(e){return e.order})).lastOrder,R=Ae(O),b=Object(d.a)(R,4),_=b[0],I=b[1],h=b[2],y=b[3];Object(r.useEffect)((function(){S&&S.isPlaced&&(e(j()),t.push(n.ORDER_SUCCESS))}),[S]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Te,{step1:!0,step2:!0,step3:!0}),c.a.createElement("h1",null,"Place Order"),c.a.createElement(X.a,null,c.a.createElement(Z.a,{sm:8},c.a.createElement(Oe.a,{variant:"flush"},c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Shipping"),c.a.createElement("p",null,c.a.createElement("strong",null,"Address: "),l,", ",u,", ",s,", ",o)),c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Payment Method"),c.a.createElement("p",null,c.a.createElement("strong",null,"Method: "),f))),c.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Image"),c.a.createElement("th",null,"Product Name"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Total price"))),c.a.createElement("tbody",null,O.map((function(e,t){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,t),c.a.createElement("td",null,c.a.createElement(de.a,{style:{width:"100px"},src:e.image})),c.a.createElement("td",null,c.a.createElement(i.Link,{to:"".concat(n.PRODUCT,"/").concat(e.id)},e.name)),c.a.createElement("td",null,e.price),c.a.createElement("td",null,e.qty),c.a.createElement("td",null,c.a.createElement("span",null,e.qty," x"," ",e.price," = $",(e.qty*e.price).toFixed(2))))}))))),c.a.createElement(Z.a,{sm:4},c.a.createElement(ae.a,null,c.a.createElement(Oe.a,{variant:"flush"},c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Order Summary")),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Items"),c.a.createElement(Z.a,null,"$",_))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Shipping"),c.a.createElement(Z.a,null,"$",I))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Tax"),c.a.createElement(Z.a,null,"$",h))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Total"),c.a.createElement(Z.a,null,"$",y))),c.a.createElement(Oe.a.Item,null,c.a.createElement(Se.a,{block:!0,type:"button",onClick:function(){var t;e((t={orderItems:O,shippingAddress:a,paymentMethod:f,itemsPrice:_,shippingPrice:I,taxPrice:h,totalPrice:y},function(){var e=Object(v.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:L.ORDER_CREATE_REQUEST}),e.next=4,P.createOrder(t);case 4:n=e.sent,(r=n.data)&&a(k(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a((c=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,{type:L.ORDER_CREATE_FAILED,payload:c})),console.error(e.t0.message);case 13:case"end":return e.stop()}var c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}},"Place Order")))))))},Pe=function(){var e=Object(m.b)(),t=Object(E.k)(),a=Object(m.c)((function(e){return e.user})).currentUser,l=Object(m.c)((function(e){return e.order})).lastOrder;return Object(r.useEffect)((function(){return function(){e({type:L.ORDER_CLEAR_LAST})}}),[]),l?c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe.a,null,c.a.createElement(Oe.a.Item,{variant:"success"},"Thank you ",a.name," for your purchase! Order ID#"," ",l.id),c.a.createElement(Oe.a.Item,null,c.a.createElement(i.Link,{to:"".concat(n.ORDER_DETAILS,"/").concat(l.id)},"Go to Order Details Page"," ")))):(t.push(n.HOME),null)},Ne=a(79),ke=function(){var e,t,a=Object(m.b)(),l=Object(E.m)().id,u=Object(m.c)((function(e){return e.order})),o=u.lastOrder,s=u.loading,p=u.error,O=Object(m.c)((function(e){return e.order.orderPay})),f=O.success,S=O.loading,R=(O.error,Object(r.useState)(!1)),b=Object(d.a)(R,2),_=b[0],I=b[1];Object(r.useEffect)((function(){a(x(l))}),[]),Object(r.useEffect)((function(){var e=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){I(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o&&f?(a({type:L.ORDER_PAY_RESET}),a(x(l))):o&&!f&&(window.paypal?I(!0):e())}),[o,f]);if(null===o)return null;var h=o.shippingAddress;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Order ",o.id),s?c.a.createElement(le,null):p?c.a.createElement(oe,{variant:"danger"},"Smth is wrong"):c.a.createElement(X.a,null,c.a.createElement(Z.a,{sm:9},c.a.createElement(Oe.a,{variant:"flush"},c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Shipping"),c.a.createElement("p",null,c.a.createElement("strong",null,"Name:")," ",null===(e=o.user)||void 0===e?void 0:e.name),c.a.createElement("p",null,c.a.createElement("strong",null,"Email:")," ",null===(t=o.user)||void 0===t?void 0:t.email),c.a.createElement("p",null,c.a.createElement("strong",null,"Address: "),h.address,","," ",h.city,","," ",h.postalCode,","," ",h.country),o.isDelivered?c.a.createElement(oe,{variant:"success"},"Delivered on ",o.deliveredAt):c.a.createElement(oe,{variant:"danger"},"Not delivered")),c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Payment Method"),c.a.createElement("p",null,c.a.createElement("strong",null,"Method: "),o.paymentMethod),o.isPaid?c.a.createElement(oe,{variant:"success"},"Paid on ",o.paidAt):c.a.createElement(oe,{variant:"danger"},"Not paid"))),c.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Image"),c.a.createElement("th",null,"Product Name"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Total price"))),c.a.createElement("tbody",null,o.orderItems.map((function(e,t){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,t+1),c.a.createElement("td",null,c.a.createElement(de.a,{style:{width:"100px"},src:e.image})),c.a.createElement("td",null,c.a.createElement(i.Link,{to:"".concat(n.PRODUCT,"/").concat(e.id)},e.name)),c.a.createElement("td",null,e.price),c.a.createElement("td",null,e.qty),c.a.createElement("td",null,c.a.createElement("span",null,e.qty," x"," ",e.price," = $",(e.qty*e.price).toFixed(2))))}))))),c.a.createElement(Z.a,{sm:3},c.a.createElement(ae.a,null,c.a.createElement(Oe.a,{variant:"flush"},c.a.createElement(Oe.a.Item,null,c.a.createElement("h4",null,"Order Summary")),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Items"),c.a.createElement(Z.a,null,"$",o.itemsPrice))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Shipping"),c.a.createElement(Z.a,null,"$",o.shippingPrice))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Tax"),c.a.createElement(Z.a,null,"$",o.taxPrice))),c.a.createElement(Oe.a.Item,null,c.a.createElement(X.a,null,c.a.createElement(Z.a,null,"Total"),c.a.createElement(Z.a,null,"$",o.totalPrice))),!o.isPaid&&c.a.createElement(Oe.a.Item,null,S&&c.a.createElement(le,null),_?c.a.createElement(Ne.PayPalButton,{amount:o.itemsPrice,onSuccess:function(e){a(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n){var r,c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:L.ORDER_DETAILS_REQUEST}),a.next=4,P.orderPay(e,t);case 4:r=a.sent,(c=r.data)&&n(w(c)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),n((l=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message,{type:L.ORDER_DETAILS_FAILED,payload:l})),console.error(a.t0.message);case 13:case"end":return a.stop()}var l}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(null===o||void 0===o?void 0:o.id,e))}}):c.a.createElement(le,null)))))))},we=function(e){var t=e.component,a=Object(o.a)(e,["component"]),r=Object(m.c)((function(e){return e.user.isSignedIn}));return c.a.createElement(E.d,Object.assign({},a,{render:function(e){return r?c.a.createElement(t,e):c.a.createElement(E.c,{to:"".concat(n.SIGNIN)})}}))},xe=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.BrowserRouter,null,c.a.createElement(B,null),c.a.createElement("main",{className:"py-3"},c.a.createElement(s.a,null,c.a.createElement(E.g,null,c.a.createElement(E.d,{exact:!0,path:n.HOME,component:pe}),c.a.createElement(E.d,{path:n.SIGNIN,component:Ie}),c.a.createElement(E.d,{path:n.SIGNUP,component:he}),c.a.createElement(E.d,{path:"".concat(n.PRODUCT,"/:id"),component:_e}),c.a.createElement(E.d,{path:"".concat(n.CART,"/:id"),component:ge}),c.a.createElement(E.d,{path:"".concat(n.CART),component:ge}),c.a.createElement(we,{path:"".concat(n.SHIPPING),component:je}),c.a.createElement(we,{path:"".concat(n.PAYMENT),component:Ue}),c.a.createElement(we,{path:"".concat(n.PLACE_ORDER),component:Le}),c.a.createElement(we,{path:"".concat(n.ORDER_SUCCESS),component:Pe}),c.a.createElement(we,{path:"".concat(n.ORDER_DETAILS,"/:id"),component:ke}),c.a.createElement(we,{path:"".concat(n.PROFILE),component:De})))),c.a.createElement(te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=a(29),Ge=a(80),Me=a(81),Qe=Object(Fe.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.PRODUCT_LIST_REQUEST:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case se.PRODUCT_LIST_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,products:t.payload});case se.PRODUCT_LIST_FAILED:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.PRODUCT_DETAIL_REQUEST:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case ie.PRODUCT_DETAIL_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,product:Object.assign({},t.payload)});case ie.PRODUCT_DETAIL_FAILED:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.CART_ADD_PRODUCT:var a=t.payload,n=e.cartItems.find((function(e){return e.id===a.id}));return n?Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.id===n.id?a:e}))}):Object(b.a)(Object(b.a)({},e),{},{cartItems:[].concat(Object(I.a)(e.cartItems),[a])});case p.CART_REMOVE_PRODUCT:return Object(b.a)(Object(b.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return t.payload!==e.id}))});case p.CART_ADD_PAYMENT_METHOD:return Object(b.a)(Object(b.a)({},e),{},{paymentMethod:t.payload});case p.CART_RESET:return U;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.SIGNIN_REQUEST:case N.SIGNUP_REQUEST:case N.USER_UPDATE_REQUEST:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case N.SIGNIN_SUCCESS:case N.USER_UPDATE_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:null,isSignedIn:!0,currentUser:Object.assign({},e.currentUser,t.payload)});case N.SIGNIN_FAILED:case N.USER_UPDATE_FAILED:case N.SIGNUP_FAILED:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.payload});case N.USER_SIGNOUT:return Object(b.a)(Object(b.a)({},e),{},{currentUser:{},loading:!1,error:null,isSignedIn:!1});case N.CLEAR_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.ORDER_CREATE_REQUEST:case L.ORDER_DETAILS_REQUEST:case L.ORDER_LIST_REQUEST:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case L.ORDER_LIST_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,orders:t.payload});case L.ORDER_CREATE_FAILED:case L.ORDER_DETAILS_FAILED:case L.ORDER_LIST_FAILED:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.payload});case L.ORDER_CREATE_SUCCESS:case L.ORDER_DETAILS_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,lastOrder:t.payload});case L.ORDER_PAY_REQUEST:return Object(b.a)(Object(b.a)({},e),{},{orderPay:Object(b.a)(Object(b.a)({},e.orderPay),{},{loading:!0})});case L.ORDER_PAY_SUCCESS:return Object(b.a)(Object(b.a)({},e),{},{lastOrder:t.payload,orderPay:Object(b.a)(Object(b.a)({},e.orderPay),{},{success:!0,loading:!1})});case L.ORDER_PAY_FAILED:return Object(b.a)(Object(b.a)({},e),{},{orderPay:Object(b.a)(Object(b.a)({},e.orderPay),{},{error:t.payload,loading:!1})});case L.ORDER_PAY_RESET:return Object(b.a)(Object(b.a)({},e),{},{orderPay:{loading:!1,success:!1,error:null}});case L.ORDER_CLEAR_LAST:return Object(b.a)(Object(b.a)({},e),{},{lastOrder:null});case L.ORDER_RESET:return F;default:return e}}}),Ye=[Ge.a],He=localStorage.getItem("cartItems"),qe=localStorage.getItem("user"),$e=localStorage.getItem("paymentMethod"),Je=[],Be={},Ve="";He&&(Je=JSON.parse(He)),qe&&(Be=JSON.parse(qe)),$e&&(Ve=JSON.parse($e));var We={cart:{cartItems:Je,paymentMethod:Ve||null},user:{currentUser:Be,loading:!1,error:null,isSignedIn:H()}},ze=Object(Fe.createStore)(Qe,We,Object(Me.composeWithDevTools)(Fe.applyMiddleware.apply(void 0,Ye)));a(120),a(121);u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:ze},c.a.createElement(xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a(122)}},[[89,1,2]]]);
//# sourceMappingURL=main.06a4a292.chunk.js.map